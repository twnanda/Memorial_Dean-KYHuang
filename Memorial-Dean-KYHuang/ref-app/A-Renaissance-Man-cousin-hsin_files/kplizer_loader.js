(function(){var j=window,o=document,i=location,d,c,m="widget.ks.yahoo.com",g=i.protocol+"//"+i.host+"/kplizer_proxy.html",a="ykplizer-router",p=99999,f=/MSIE 6/.test(navigator.userAgent),l;function b(q){return document.getElementById(q)}function e(u,r,q){var t,s;if(u.attachEvent){t=r+q;s="e"+r+q;u[s]=q;u[t]=function(){u[s](window.event)};u.attachEvent("on"+r,u[t])}else{u.addEventListener(r,q,false)}}function k(t,r,q){var s=r+q;if(t.detachEvent){t.detachEvent("on"+r,t[s]);t[s]=null}else{t.removeEventListener(r,q,false)}}function h(){var s=b(a);var q=o.documentElement.clientHeight+"px";var u=o.body.scrollTop||o.documentElement.scrollTop;var r=o.documentElement.clientWidth+"px";var t=o.body.scrollLeft||o.documentElement.scrollLeft;s.style.top=u+"px";s.style.left=t+"px";s.style.height=q;s.style.width=r}function n(){var q=b(a);q.style.display="block";l=o.body.getAttribute("style");o.body.setAttribute("style",l+";overflow:hidden;");o.body.style.overflow="hidden"}d={load:function(t){var r="100%",B="100%",w,C,y,u=o.createElement("iframe"),x="",z,A=[],q=f?"absolute":"fixed",v,s=t.hasOwnProperty("delay")?t.delay:1000;if(!t.spaceid||!t.intl||!t.appid){return}C=t.host||m;y=t.zIndex||p;t.proxy=t.proxy||g;t.page_url=t.page_url||i.toString();t.page_title=t.page_title||o.title;for(z in t){if(t.hasOwnProperty(z)){A.push(z+"="+encodeURIComponent(t[z]))}}x=A.join("&");c=t.trigger||"";w=b(a);if(w){o.body.removeChild(w)}u.src="http://"+C+"/kplizer/index?"+x;u.setAttribute("id",a);u.setAttribute("name",a);u.setAttribute("allowTransparency","allowTransparency");u.setAttribute("frameborder",0);u.setAttribute("scrolling","no");u.setAttribute("width",r);u.setAttribute("height",B);v="z-index:"+y+";position:"+q+";top:0px;left:0px;width:"+r+";height:"+B+";overflow:auto;zoom:1;display:none;";u.setAttribute("style",v);u.style.cssText=v;o.body.appendChild(u);if(f){h();e(j,"scroll",h);e(j,"resize",h)}setTimeout(n,s);e(j,"message",d.onmessage);return false},unload:function(){var q,r;o.body.style.overflow="";o.body.setAttribute("style",l);k(j,"message",d.onmessage);if(f){k(j,"scroll",h);k(j,"resize",h)}q=b(a);if(q){o.body.removeChild(q)}if(c){r=b(c);if(r){r.focus()}}},onmessage:function(q){if(q.data==="close"){d.unload()}}};j.YKPlizer=d}());